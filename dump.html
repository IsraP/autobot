
<div class="row inbox">
    <div class="col-md-3">
        <div class="input-group" style="border-bottom: none; margin-bottom: 10px;">
            <input id="buscarapida" name="buscarapida" value="" type="text" autocomplete="off" placeholder="Buscar por cliente, marca ou modelo" class="form-control">
            <span class="input-group-btn">
                <a class="btn blue verificarleadsBuscaRapida" data-id="0" style="padding: 10px 14px;"><i class="fa fa-search"></i></a>
            </span>
        </div>
        <div class="inbox-sidebar" style="box-shadow: 0 10px 40px 0 rgba(18,106,211,.07), 0 2px 9px 0 rgba(18,106,211,.06); border-radius: 3px;">
            <ul class="inbox-nav">
                <li class="active">
                    <a class="verificarleads" data-id="1" data-type="inbox" data-title="Inbox">
                        Pendentes
                        <span class="badge badge-info" style="border-radius: 2px !important;">67</span>
                    </a>
                </li>
                                <li class="" style="padding-left: 10px">
                    <a class="verificarleads" data-id="11" data-type="sent" data-title="Sent" style="padding: 5px 16px;color: #008dda;">
                        - Pendentes 1º Atendimento
                        <span class="badge badge-success" style="border-radius: 2px !important;">64</span>
                    </a>
                </li>
                <li class="">
                    <a class="verificarleads" data-id="2" data-type="draft" data-title="Draft">
                        Em Andamento
                        <span class="badge badge-info" style="border-radius: 2px !important;">92</span>
                    </a>
                </li>
                <li class="">
                    <a class="verificarleads" data-id="3" data-type="draft" data-title="Draft">
                        Agendados
                        <span class="badge badge-info" style="border-radius: 2px !important;">0</span>
                    </a>
                </li>
                <li class="" style="padding-left: 10px">
                    <a class="verificarleads" data-id="8" data-type="sent" data-title="Sent" style="padding: 5px 16px;color: #008dda;">
                        - Agendamentos em Atraso
                        <span class="badge badge-danger" style="border-radius: 2px !important;">0</span>
                    </a>
                </li>
                <li class="" style="padding-left: 10px">
                    <a class="verificarleads" data-id="9" data-type="sent" data-title="Sent" style="padding: 5px 16px;color: #008dda;">
                        - Agendamentos do Dia
                        <span class="badge badge-info" style="border-radius: 2px !important;">0</span>
                    </a>
                </li>
                <li class="" style="padding-left: 10px">
                    <a class="verificarleads" data-id="10" data-type="sent" data-title="Sent" style="padding: 5px 16px;color: #008dda;">
                        - Agendamentos Futuros
                        <span class="badge badge-success" style="border-radius: 2px !important;">0</span>
                    </a>
                </li>
            </ul>
        </div>
        <br />

        <div class="tabbable tabbable-custom tabbable-custom-profile">
            <ul class="nav nav-tabs">
                <li class="active">
                    <a href="#tabDia" data-toggle="tab" aria-expanded="false" style="border: none">
                        Lead Por Dia
                    </a>
                </li>
                    <li>
                        <a href="#tabVendedor" data-toggle="tab" aria-expanded="false" style="border: none" class="tabVendedorlink">
                            Lead Por Vendedor
                        </a>
                    </li>
            </ul>
            <div class="tab-content" style="height: 350px; overflow: auto;">
                <div class="tab-pane active" id="tabDia">
                    <div class="inbox-sidebar noMobile" style="border: none;padding: 10px;">
                        <div class="portlet-title">
                            <div class="caption" style="float:left; margin: 6px 0;">
                                <i class="icon-edit font-dark"></i>
                                <span class="caption-subject font-dark bold uppercase">Leads recebidos no dia:</span>
                            </div>
                            <div class="actions" style="float:right; margin: 6px 0;">
                                27/07/2025
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <ul class="inbox-nav">
                        </ul>
                    </div>
                </div>
                <div class="tab-pane" id="tabVendedor">
                        <div class="inbox-sidebar noMobile" style="border: none;padding: 10px;">
                            <div class="portlet-title">
                                <div class="caption" style="float:left; margin: 6px 0;">
                                    <i class="icon-edit font-dark"></i>
                                    <span class="caption-subject font-dark bold uppercase">Leads por Vendedor</span>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <ul class="inbox-nav">
                                        <li class="active">
                                            <a class="verificarleadsUsuario" data-id="58462" data-type="inbox" data-title="Inbox" style="margin-bottom: 2px;">
                                                <div class="row">
                                                    <div class="col-md-10" style="height: 19px; overflow: hidden;"><span>DIEGO ARANTES</span> </div>
                                                    <div class="col-md-2">
                                                        <span class="badge badge-info" style="border-radius: 2px !important;">11</span>
                                                    </div>
                                                </div>
                                                <div class="clear clearfix"></div>
                                            </a>
                                        </li>
                                        <li class="active">
                                            <a class="verificarleadsUsuario" data-id="45752" data-type="inbox" data-title="Inbox" style="margin-bottom: 2px;">
                                                <div class="row">
                                                    <div class="col-md-10" style="height: 19px; overflow: hidden;"><span>EDUARDO SAAB AMORIM MELLO</span> </div>
                                                    <div class="col-md-2">
                                                        <span class="badge badge-info" style="border-radius: 2px !important;">7</span>
                                                    </div>
                                                </div>
                                                <div class="clear clearfix"></div>
                                            </a>
                                        </li>
                            </ul>
                        </div>
                </div>

            </div>
        </div>

    </div>
    <div class="col-md-9">
        <div class="inbox-body">
            <div class="inbox-header" style="overflow: initial;">
                    <h3 class="pull-left" style="margin-top: 4px; font-size: 18px; color: #666; font-family: Poppins, sans-serif;">0 Leads</h3>
                <div style="width: auto; border: none; padding: 0; text-align: right; margin-bottom: 10px" class="paginacaoLeads">
                    <div class="pagination-container"><ul class="pagination"></ul></div>

                    <div class="btn-group results-sorter pull-right" style="float: right; margin-right: 10px;">
                        <button type="button" class="btn btn-default listing-sort-btn" style="width: 140px; text-align: left;">Ordenar por</button>
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false" style="height: 35px; margin-left: -4px;">
                            <span class="caret"></span>
                            <span class="sr-only">Toggle Dropdown</span>
                        </button>
                        <ul class="dropdown-menu pull-right ordenarLeads" style="text-align: left; cursor: pointer">
                            <li><a data-id="1">Data de chegada decrescente</a></li>
                            <li><a data-id="2">Data de chegada crescente</a></li>
                            <li><a data-id="3">Data de últ. andamento decrescente</a></li>
                            <li><a data-id="4">Data de últ. andamento crescente</a></li>
                            <li><a data-id="5">Temperatura</a></li>
                        </ul>
                    </div>
                    <div style="clear: both;"></div>
                </div>
            </div>
            <div class="inbox-content">
            </div>
            <div>
                <div style="width: auto; border: none; padding: 0; text-align: right; margin-bottom: 10px">
                    <div class="pagination-container"><ul class="pagination"></ul></div>
                </div>
            </div>
        </div>
    </div>

</div>


<script type="text/javascript">

    $(this.document).ready(function () {
        $.editModal(".adicionarLead", "/Lead/Novo/", "data-id", "#add-lead");

        if ('1' != '0') {
            $('.nav-tabs a[href="#tabVendedor"]').tab('show');
        }

        $("#supervisao").change(function () {
            var url = '/Lead/Lista?status=' + 1 + '&midia=0&supervisao=' + $('#supervisao').val();
            history.pushState({ ajaxLoaded: true, url: url }, null, url);
            pageHistory.push(url);

            $('#listaLeads').loadBlockUI('/Lead/ObterleadsAjax?status=' + 1 + '&midia=0&supervisao=' + $('#supervisao').val(), null, function () { });
        });

        $(".verificarleads").click(function () {
            var status = $(this).attr('data-id');
            var url = '/Lead/Lista?status=' + status + ($("#buscarapida").val() != "" ? '&buscarapida=' + $("#buscarapida").val() : "");
            history.pushState({ ajaxLoaded: true, url: url }, null, url);
            pageHistory.push(url);

            $('#listaLeads').loadBlockUI('/Lead/ObterleadsAjax?status=' + status + '&midia=0&supervisao=' + $('#supervisao').val() + '&buscarapida=' + $("#buscarapida").val(), null, function () { });
        });

        $(".verificarleadsMidia").click(function () {
            var midia = $(this).attr('data-id');

            if (0 == 1) {
                var url = '/Lead/Lista?status=1&supervisao=1&midia=' + midia;
                history.pushState({ ajaxLoaded: true, url: url }, null, url);
                pageHistory.push(url);

                $('#listaLeads').loadBlockUI('/Lead/ObterleadsAjax?status=1&supervisao=1&midia=' + midia + '&buscarapida=' + $("#buscarapida").val(), null, function () { });
            }
            else {
                var url = '/Lead/Lista?status=1&midia=' + midia;
                history.pushState({ ajaxLoaded: true, url: url }, null, url);
                pageHistory.push(url);

                $('#listaLeads').loadBlockUI('/Lead/ObterleadsAjax?status=1&midia=' + midia + '&buscarapida=' + $("#buscarapida").val(), null, function () { });
            }
        });

        $(".verificarleadsUsuario").click(function () {
            var usuario = $(this).attr('data-id');

            if (0 == 1) {
                var url = '/Lead/Lista?status=' + 1 + '&supervisao=1&usuario=' + usuario;
                history.pushState({ ajaxLoaded: true, url: url }, null, url);
                pageHistory.push(url);
                $('#listaLeads').loadBlockUI('/Lead/ObterleadsAjax?status=' + 1 + '&midia=0&supervisao=1&usuario=' + usuario + '&buscarapida=' + $("#buscarapida").val(), null, function () { });
            }
            else {
                var url = '/Lead/Lista?status=' + 1 + '&usuario=' + usuario;
                history.pushState({ ajaxLoaded: true, url: url }, null, url);
                pageHistory.push(url);
                $('#listaLeads').loadBlockUI('/Lead/ObterleadsAjax?status=' + 1 + '&midia=0&usuario=' + usuario + '&buscarapida=' + $("#buscarapida").val(), null, function () { });
            }
        });

        $(".ordenarLeads li a").click(function () {
            var ordenacao = $(this).attr('data-id');

            if (1 > 0) {
                var url = '/Lead/Lista?status=' + 1 + '&ordenacao=' + ordenacao + '&usuario=' + 1;
                history.pushState({ ajaxLoaded: true, url: url }, null, url);
                pageHistory.push(url);
                $('#listaLeads').loadBlockUI('/Lead/ObterleadsAjax?status=' + 1 + '&midia=0&buscarapida=' + $("#buscarapida").val() + '&ordenacao=' + ordenacao + '&usuario=' + 1, null, function () { });
            }
            else if (0 > 0) {
                var url = '/Lead/Lista?status=' + 1 + '&ordenacao=' + ordenacao + '&midia=' + 0;
                history.pushState({ ajaxLoaded: true, url: url }, null, url);
                pageHistory.push(url);
                $('#listaLeads').loadBlockUI('/Lead/ObterleadsAjax?status=' + 1 + '&buscarapida=' + $("#buscarapida").val() + '&ordenacao=' + ordenacao + '&midia=' + 0, null, function () { });
            }
            else {
                var url = '/Lead/Lista?status=' + 1 + '&ordenacao=' + ordenacao;
                history.pushState({ ajaxLoaded: true, url: url }, null, url);
                pageHistory.push(url);
                $('#listaLeads').loadBlockUI('/Lead/ObterleadsAjax?status=' + 1 + '&midia=0&buscarapida=' + $("#buscarapida").val() + '&ordenacao=' + ordenacao, null, function () { });
            }
        });

        $(".verificarleadsBuscaRapida").click(function () {
            var url = '/Lead/Lista?status=' + 1 + '&buscarapida=' + $("#buscarapida").val();
            history.pushState({ ajaxLoaded: true, url: url }, null, url);
            pageHistory.push(url);
            $('#listaLeads').loadBlockUI('/Lead/ObterleadsAjax?status=' + 1 + '&midia=0&buscarapida=' + $("#buscarapida").val(), null, function () { });
        });

        $('.transferirLead').editable({
            url: '/Lead/SalvarTransferencia',
            type: 'text',
            placement: 'left',
            inputclass: 'form-control required popoverVersao',
            name: 'transferirLead',
            title: 'Transferir para:',
            ajaxOptions: {
                type: 'put',
                dataType: 'json'
            }
        });

        $('.transferirLead').on('save', function (e, params) {
            $(this).closest('tr.level1').find('.divButtonMeuCarroNovo').show();
            $(this).closest('tr.level1').find('.divVersaoMeuCarroNovo').hide();
            $(this).closest('tr.level1').find('.midiaSemVersao').removeClass('midiaSemVersao');
        });
    });
</script>
